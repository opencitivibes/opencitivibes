# OpenCitiVibes Backend Configuration
# Copy to .env and customize for your instance

# ============================================
# REQUIRED: Security
# ============================================

# Secret key for JWT tokens (generate with: openssl rand -hex 32)
SECRET_KEY=your-secret-key-here

# TOTP encryption key for 2FA secrets (generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())")
TOTP_ENCRYPTION_KEY=

# ============================================
# 2FA Trusted Device Settings (Remember Device)
# ============================================

# Default trust duration for "Remember this device" (max 30 days - Law 25)
TOTP_DEVICE_TRUST_DEFAULT_DAYS=30
TOTP_DEVICE_TRUST_MAX_DAYS=30

# Device token security settings
TOTP_DEVICE_TOKEN_LENGTH=32

# Prevent abuse - max devices per user
TOTP_MAX_TRUSTED_DEVICES_PER_USER=10

# Days to retain revoked devices before permanent deletion (Law 25)
TOTP_REVOKED_DEVICE_RETENTION_DAYS=7

# ============================================
# Database
# ============================================

# SQLite (development)
DATABASE_URL=sqlite:///./data/opencitivibes.db

# PostgreSQL (production)
# DATABASE_URL=postgresql://user:password@host:5432/opencitivibes

# ============================================
# Instance Configuration
# ============================================

# Path to platform configuration file
PLATFORM_CONFIG_PATH=./config/platform.config.json

# Initial admin credentials (MUST be set - no defaults for security)
ADMIN_EMAIL=admin@your-domain.com
ADMIN_PASSWORD=YourSecurePassword123!

# ============================================
# Server Settings
# ============================================

ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS origins (JSON array or comma-separated)
CORS_ORIGINS=http://localhost:3000

# Environment
ENVIRONMENT=development
LOG_LEVEL=INFO

# ============================================
# Optional: Monitoring
# ============================================

# Sentry Configuration (optional - Sentry disabled if not set)
# Get your DSN from: https://sentry.io/settings/projects/{project}/keys/
SENTRY_DSN=
SENTRY_RELEASE=1.0.0
